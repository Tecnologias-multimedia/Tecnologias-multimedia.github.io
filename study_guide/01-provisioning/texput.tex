\input{../definitions}
\title{\TM{} - Study Guide - Milestone 0: OS (Operating System) Provisioning}

\maketitle

\section{Description}

The InterCom project \cite{intercom} is a real-time application with
a high computational (specially in terms of CPU) demand. It is written
in Python \cite{python}, an interpreted languaje that has been
ported to \href{https://www.python.org/download/other/}{almost all}
the current OSs, including
mobile \href{https://kivy.org/#home}{devices}.

This milestone (the installation of a dedicated Linux distribution for
running InterCom) is optional, but it is highly recommend to do it
because you'll receive technical support in a reasonable amount of
time in the case you are in trouble. Futhermore, it is recommend to
run InterCom in a Xubuntu 21.04 (Hirsute Hippo) \cite{xubuntu},
running natively
(no \href{https://en.wikipedia.org/wiki/Virtualization}{virtualization}). Xubuntu
is fully functional (at least for developing our project) and demand a
low amount of hardware resources.

The following ``guide'' helps you to install Xubuntu in an
external \href{https://en.wikipedia.org/wiki/USB_flash_drive}{USB
drive}, which must have at least 8GB of capacity (the minimal
installation of Xubuntu needs about 5GB). You will need also a
temporal external USB disk with at least 4GB to boot from it the
installation Xubuntu image (or to burn
an \href{https://en.wikipedia.org/wiki/Optical_disc}{optical disk}).

\section{What do you have to do?}

Supposing that you have decided to use Xubuntu in an USB disk,
these are the steps you should perform (to install Xubuntu in a ``hard'' disk
partition of your computer the instructions are almost the same):

\begin{enumerate}
  \item Download the
    installation \href{https://en.wikipedia.org/wiki/Disk_image}{image}
    from \href{https://xubuntu.org/download/}{here}.
    
  \item ``Burn'' the 4GB USB drive with the image. Depending on your
    current OS, use the following instructions
    for \href{https://ubuntu.com/tutorials/create-a-usb-stick-on-windows#1-overview}{Windows}, \href{https://ubuntu.com/tutorials/create-a-usb-stick-on-macos#1-overview}{OSX}, \href{https://ubuntu.com/tutorials/create-a-usb-stick-on-ubuntu#1-overview}{Ubuntu
    (and derivatives)},
    or \href{https://askubuntu.com/questions/372607/how-to-create-a-bootable-ubuntu-usb-flash-drive-from-terminal}{the Linux
    console}. Using the console (example):

\begin{verbatim}
[vruiz@pluton Descargas]$ ls -lh *.iso
-rw-r--r-- 1 vruiz vruiz 1,9G sep  9 16:00 xubuntu-21.04-desktop-amd64.iso
vruiz@pluton Descargas]$ lsblk   # Before connecting the USB drive
NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
nvme0n1     259:0    0 238,5G  0 disk 
+-nvme0n1p1 259:1    0 198,5G  0 part /home
+-nvme0n1p2 259:2    0     8G  0 part [SWAP]
+-nvme0n1p3 259:3    0   513M  0 part /boot/efi
+-nvme0n1p4 259:4    0  31,5G  0 part /
[vruiz@pluton Descargas]$ lsblk  # After connecting the USB drive 
NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
sda           8:0    1  29,2G  0 disk 
+-sda1        8:1    1   512M  0 part 
+-sda2        8:2    1  28,7G  0 part 
nvme0n1     259:0    0 238,5G  0 disk 
+-nvme0n1p1 259:1    0 198,5G  0 part /home
+-nvme0n1p2 259:2    0     8G  0 part [SWAP]
+-nvme0n1p3 259:3    0   513M  0 part /boot/efi
+-nvme0n1p4 259:4    0  31,5G  0 part /
[vruiz@pluton Descargas]$ sudo dd bs=4M if=xubuntu-21.04-desktop-amd64.iso of=/dev/sda conv=fsync oflag=direct status=progress
1929379840 bytes (1,9 GB, 1,8 GiB) copied, 151 s, 12,8 MB/s
466+1 registros leÃ­dos
466+1 registros escritos
1958051840 bytes (2,0 GB, 1,8 GiB) copied, 152,555 s, 12,8 MB/s
\end{verbatim}

\item Boot the image. Most of PCs can choose the boot device by pressing the
  F12-key when the PC is booting. On a Mac, you need to keep pressed
  the alt-key when it is booting.
  
\item Select the option \texttt{Try Xubuntu without installing}.
  
\item When the OS is running, configure the network. Thus, you will
  have access to the lastest verion of the packages during the
  installation.
  
\item Insert now the (at least) 8GB USB drive where Xubuntu will be
  installed. Be aware that this device will be formated, and
  therefore, all the current content will be lost.
  
\item Select \texttt{Install Xubuntu 21.04 LTS}.
  
\item Select English as the language used during the installation and the
  installed system. This will help in the case you need to search
  information in the Internet, providing the error descriptions in
  English.
  
\item Select your keyboard layout (probably \texttt{Spanish}).

\item Open a terminal and write:

  \begin{lstlisting}[language=bash]
    df -h
  \end{lstlisting}

  to see all the mounted disk partitions and their capacity. Notice
  that no partition of \texttt{/dev/sda} (the hard disk) should not be
  mounted (although you can do that, you don't need to mount any
  partition of the hard disk), the partition \texttt{/dev/sdb1} (with
  the Xubuntu image) should be mounted, and finally, if the first
  partition of the second external USB drive has been recognized by
  \href{https://gitlab.xfce.org/xfce/thunar}{Thunar} (the default file
  manager in Xubuntu), it should appear as \texttt{/dev/sdc1}. This
  partition should be unmounted to install on it Xubuntu. Anyway, if
  you continue with the installation process without unmounting it, the
  installer will ask you to do it. In this description, it has been
  supposed that your computer only has one hard disk.

\item Choose \texttt{Download updates while installing Xubuntu} and
  \texttt{Install third-party software for graphics and Wi-Fi hardware
    and additional media formats}, in order to have access to the
    ultimate software available for Ubuntu (and derivatives).

\item Choose \texttt{Erase disk and install Xubuntu}. Ignore the
  \verb|Advanced Features|. Then, wait for a couple of minutes :-/

\item Select the drive corresponding to the >= 8GB USB drive
  (\texttt{/dev/sdc}). Don't choose \texttt{/dev/sda} (the main disk of
  your computer)! Again, Select \texttt{/dev/sdc}!!

\item At this point of the installation you should consider (depending
  on the amount of RAM memory installed in your computer and the size
  of the USB drive) to create an specific partition for doing
  \href{https://en.wikipedia.org/wiki/Swapping}{swapping}. The rule of
  the thumb is to create a partition with the same size that the
  RAM. However, probably you cannot do that in a 8GB USB drive because
  at least 5GB are needed for a Xubuntu installation. Anyway, keep in
  mind that this step is optional because you can always perform
  swapping on a file (a process slightly slower than using the
  dedicated partition). Consider also that InterCom requires only some
  MB of memory for running and therefore, probably you are not going
  to need to swap any
  \href{https://en.wikipedia.org/wiki/Page_(computer_memory)}{memory
    page} at all. Said that, if you decide to create a specific swap
  partition, click on \verb|Advanced Partitioning Tool| and do the
  modifications you want.

\item Very important: \textbf{double check that the boot loader
  (\href{https://www.gnu.org/software/grub/}{GRUB}) will be installed
  in \texttt{/dev/sdc1}!!}.

\item Click on \verb|Install Now|. You'll read something similar to:

\begin{verbatim}
If you continue, the changes listed below will be written to the disks. Otherwise, you will be able to make further changes manually.

WARNING: This will destroy all data on any partitions you have removed as well as on the partitions that are going to be formatted.

The partition tables of the following devices are changed:
 SCSI8 (0,0,0) (sdc)

The following partitions are going to be formatted:
 partition #1 of SCSI8 (0,0,0) (sdc) as ESP
 partition #2 of SCSI8 (0,0,0) (sdc) as ext4
\end{verbatim}

\item Choose your time zone.
  
\item Configure you personal account (user and password),
  \href{https://en.wikipedia.org/wiki/Hostname}{hostname} and
  \href{https://en.wikipedia.org/wiki/Login}{login} process.
  
\item Wait for the end of the installation and boot your new
  Xubuntu. Don't worry if GRUB labels Xubuntu as Ubuntu. This is
  normal.
  
\end{enumerate}

\section{Timming}

You should reach this milestone at most in one week.

\section{Deliverables}

None.

\section{Resources}

\bibliography{intercom,python,linux}
