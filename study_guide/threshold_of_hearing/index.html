<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" 
"http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd" > 
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>Perceptual Coding Considering the Threshold of Hearing</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<!-- xhtml,mathml,html --> 
<meta name="src" content="index.tex" /> 
<link rel="stylesheet" type="text/css" href="index.css" /> 
</head><body 
>
   <div class="maketitle">
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class="titleHead">Perceptual Coding Considering the Threshold of
Hearing</h2>
 <div class="author" ><span 
class="ecrm-1200">Vicente Gonz</span><span 
class="ecrm-1200">&#x00E1;</span><span 
class="ecrm-1200">lez Ruiz</span></div><br />
<div class="date" ><span 
class="ecrm-1200">November 22, 2022</span></div>
   </div>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-10001"></a>Description</h3>
<!--l. 9--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-20001.1"></a>A model of the Threshold of &#x0028;Human&#x0029; Hearing</h4>
<!--l. 11--><p class="noindent" >Psychoacoustics &#x0028;see <a 
href="https://vicente-gonzalez-ruiz.github.io/the_sound/" >the sound</a>, <a 
href="https://vicente-gonzalez-ruiz.github.io/human_auditory_system/" >the human auditory system</a>, and <a 
href="https://vicente-gonzalez-ruiz.github.io/human_sound_perception/" >the human sound
perception</a>&#x0029; has determined that the HAS &#x0028;Human Auditory System&#x0029; has a
sensitivity that depends on the frequency of the sound, the so called ToH &#x0028;<a 
href="https://en.wikipedia.org/wiki/Absolute_threshold_of_hearing" >Threshold
of &#x0028;Human&#x0029; Hearing</a>&#x0029;. This basically means that some subbands can be quantized
with a larger quantization step than others without a noticeable increase &#x0028;from a
perfection perspective&#x0029; of the quantization noise&#x00A0;<span class="cite">&#x005B;<a 
href="#Xsayood2017introduction">2</a>&#x005D;</span>.
</p>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 28--><p class="noindent" ><div style="text-align:center;"> <img width=1400 src="graphics/ToHH.svg" /> </div>  <a 
 id="x1-2001r1"></a>
<a 
 id="x1-2002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;1: </span><span  
class="content">A model for the threshold of human hearing.                    </span></div><!--tex4ht:label?: x1-2001r1 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
<!--l. 33--><p class="indent" >   A good approximation of the ToH for a 20-years old person can be obtained
with&#x00A0;<span class="cite">&#x005B;<a 
href="#Xbosi2003intro">1</a>&#x005D;</span> </p><table class="equation"><tr><td>
<!--l. 35--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
      <mstyle 
   id="x1-2003r1"  class="label" ></mstyle><!--endlabel--><mo 
class="MathClass-open" stretchy="false">T</mo><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mi 
>f</mi><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo><mstyle 
class="text"><mtext  >&#x005B;dB&#x005D;</mtext></mstyle> <mo 
class="MathClass-rel">=</mo> <mn>3</mn><mo 
class="MathClass-punc">.</mo><mn>6</mn><mn>4</mn><msup><mrow 
><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mi 
>f</mi><mstyle 
class="text"><mtext  >&#x005B;kHz&#x005D;</mtext></mstyle><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>8</mn></mrow></msup 
> <mo 
class="MathClass-bin">&#x2212;</mo> <mn>6</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><msup><mrow 
><mi 
>e</mi></mrow><mrow 
><mi 
>f</mi><mstyle 
class="text"><mtext  >&#x005B;kHz&#x005D;</mtext></mstyle><mo 
class="MathClass-bin">&#x2212;</mo><mn>3</mn><mo 
class="MathClass-punc">.</mo><mn>3</mn><msup><mrow 
><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo></mrow><mrow 
><mn>2</mn></mrow></msup 
>
                      </mrow></msup 
> <mo 
class="MathClass-bin">+</mo> <mn>1</mn><msup><mrow 
><mn>0</mn></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mn>3</mn></mrow></msup 
><msup><mrow 
><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mi 
>f</mi><mstyle 
class="text"><mtext  >&#x005B;kHz&#x005D;</mtext></mstyle><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo></mrow><mrow 
><mn>4</mn></mrow></msup 
><mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">&#x0028;1&#x0029;</td></tr></table>
<!--l. 39--><p class="indent" >   This equation has been plotted in the Fig.&#x00A0;<a 
href="#x1-2001r1">1<!--tex4ht:ref: fig:ToHH --></a>.
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-30001.2"></a>DWT subbands and quantization steps &#x0028;basic algorithm&#x0029;</h4>
<!--l. 42--><p class="noindent" >The number of DWT subbands </p><table class="equation"><tr><td>
<!--l. 43--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                         <mstyle 
   id="x1-3001r2"  class="label" ></mstyle><!--endlabel--><msub><mrow 
><mo 
class="MathClass-open" stretchy="false">N</mo></mrow><mrow 
><mstyle 
class="text"><mtext  >sb</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msub><mrow 
><mi 
>N</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >levels</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-bin">+</mo> <mn>1</mn>
</math></td><td class="eq-no">&#x0028;2&#x0029;</td></tr></table>
<!--l. 46--><p class="indent" >   where <!--l. 46--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>N</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >levels</mtext></mstyle></mrow></msub 
></math>
is the number of levels of the DWT&#x00A0;<span class="cite">&#x005B;<a 
href="#Xvetterli1995wavelets">3</a>&#x005D;</span>. Except for the
<!--l. 48--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mstyle mathvariant="bold"><mi 
>l</mi></mstyle></mrow><mrow 
><msub><mrow 
><mi 
>N</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >levels</mtext></mstyle></mrow></msub 
></mrow></msup 
></math>
subband &#x0028;the lowest-pass frequency of the decomposition&#x0029;, it holds that
</p><table class="equation"><tr><td>
                                                                  

                                                                  
<!--l. 50--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                        <mstyle 
   id="x1-3002r3"  class="label" ></mstyle><!--endlabel--><mo 
class="MathClass-open" stretchy="false">W</mo><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><msup><mrow 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle></mrow><mrow 
><mi 
>s</mi></mrow></msup 
><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo> <mo 
class="MathClass-rel">=</mo> <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>2</mn></mrow></mfrac><mi 
>W</mi><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><msup><mrow 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle></mrow><mrow 
><mi 
>s</mi><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;3&#x0029;</td></tr></table>
<!--l. 53--><p class="indent" >   being <!--l. 53--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>W</mi><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mo 
class="MathClass-bin">&#x22C5;</mo><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo></math> the bandwidth of
the corresponding subband <!--l. 54--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>s</mi></math>.
Therefore, considering that the bandwidth of the audio signal is
<!--l. 55--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>2</mn><mn>2</mn><mn>0</mn><mn>5</mn><mn>0</mn></math> Hz, the
bandwidth <!--l. 55--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>W</mi><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><msup><mrow 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle></mrow><mrow 
><mn>1</mn></mrow></msup 
><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo></math>
of the <!--l. 55--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle></mrow><mrow 
><mn>1</mn></mrow></msup 
></math>
subband is <!--l. 55--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>1</mn><mn>1</mn><mn>0</mn><mn>2</mn><mn>5</mn></math>
Hz, <!--l. 56--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>W</mi><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><msup><mrow 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle></mrow><mrow 
><mn>2</mn></mrow></msup 
><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo> <mo 
class="MathClass-rel">=</mo> <mn>2</mn><mn>2</mn><mn>0</mn><mn>2</mn><mn>5</mn><mo 
class="MathClass-bin">&#x2215;</mo><mn>4</mn></math>,
and so on. It also holds that </p><table class="equation"><tr><td>
<!--l. 57--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                     <mstyle 
   id="x1-3003r4"  class="label" ></mstyle><!--endlabel--><mo 
class="MathClass-open" stretchy="false">W</mo><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><msup><mrow 
><mstyle mathvariant="bold"><mi 
>l</mi></mstyle></mrow><mrow 
><msub><mrow 
><mi 
>N</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >levels</mtext></mstyle></mrow></msub 
></mrow></msup 
><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo> <mo 
class="MathClass-rel">=</mo> <mi 
>W</mi><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><msup><mrow 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle></mrow><mrow 
><msub><mrow 
><mi 
>N</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >levels</mtext></mstyle></mrow></msub 
></mrow></msup 
><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo><mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">&#x0028;4&#x0029;</td></tr></table>
<!--l. 61--><p class="indent" >   The idea is to decide, knowing the frequencies represented in each DWT
subband and the ToH curve, the QSS &#x0028;Quantization Step Size&#x0029; that should be
applied to each subband. This idea has been implemented in the module
<span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">threshold.py</span></span></span>.
</p><!--l. 66--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-40002"></a>A higher frequency-resolution approach</h3>
<!--l. 68--><p class="noindent" >The frequency resolution of the dyadic subband partition generated by the DWT
could not be high enough to map the ToH curve accurately. To overcome this, we will
&#xFB01;lter each DWT subband considering the corresponding part of the ToH curve. To
achieve this, we will use the <a 
href="https://numpy.org/doc/stable/reference/routines.fft.html" >FFT &#x0028;Fast Fourier Transform&#x0029;</a> to map each DWT
subband to the Fourier domain and &#xFB01;lter the signal using the ToH curve without
generating a signi&#xFB01;cative increment or decrement of the energy of the signal. To do
                                                                  

                                                                  
this, we should quantize and dequantize each FFT subband, using the corresponding
QSS.
</p><!--l. 79--><p class="indent" >   Finally, notice that &#x0028;before to the use the FFT&#x0029; a temporal window &#x0028;di&#xFB00;erent to
the square window, which is the one that we are using if we don&#x2019;t apply a <a 
href="https://en.wikipedia.org/wiki/Window_function" >windowing
technique</a>&#x0029; should be used to minimize the <a 
href="https://en.wikipedia.org/wiki/Spectral_leakage" >spectral leakage</a>.
</p><!--l. 87--><p class="indent" >   This technique has not been implemented, yet.
</p><!--l. 89--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-50003"></a>What you have to do?</h3>
<!--l. 93--><p class="noindent" >The ToH plotted in the Fig.&#x00A0;<a 
href="#x1-2001r1">1<!--tex4ht:ref: fig:ToHH --></a> can be di&#xFB00;erent to the curve which corresponds with your current
&#x201C;hearing capabilities&#x201D;.<span class="footnote-mark"><a 
href="index2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span><a 
 id="x1-5001f1"></a> 
For this reason, in the module <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">threshold.py</span></span></span>, implement
a procedure for determining the QSSs used in each Fourier
subband<span class="footnote-mark"><a 
href="index3.html#fn2x0"><sup class="textsuperscript">2</sup></a></span><a 
 id="x1-5002f2"></a> .
</p><!--l. 110--><p class="indent" >   To &#xFB01;nd out such QSSs, we can simulate <a 
href="https://en.wikipedia.org/wiki/Quantization_(signal_processing)" >quantization noise</a> in each FFT subband
and measure the amplitude of the noise when it starts to be noticeable. Supposing
that the quantization noise follows an <a 
href="https://en.wikipedia.org/wiki/Continuous_uniform_distribution" >uniform distribution</a>, the next algorithm can
be implemented:
     </p><ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-5004x1">
     <!--l. 119--><p class="noindent" >Let <!--l. 120--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-open" stretchy="false">&#x007B;</mo><msup><mrow 
><mstyle mathvariant="bold"><mi 
>l</mi></mstyle></mrow><mrow 
><msub><mrow 
><mi 
>N</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >levels</mtext></mstyle></mrow></msub 
></mrow></msup 
><mo 
class="MathClass-punc">,</mo><msup><mrow 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle></mrow><mrow 
><msub><mrow 
><mi 
>N</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >levels</mtext></mstyle></mrow></msub 
></mrow></msup 
><mo 
class="MathClass-punc">,</mo><msup><mrow 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle></mrow><mrow 
><msub><mrow 
><mi 
>N</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >levels</mtext></mstyle></mrow></msub 
><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn>
               </mrow></msup 
><mo 
class="MathClass-punc">,</mo><mo 
class="MathClass-rel">&#x22EF;</mo><mspace width="0.17em" class="thinspace"/><mo 
class="MathClass-punc">,</mo><msup><mrow 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle></mrow><mrow 
><mn>1</mn></mrow></msup 
><mo 
class="MathClass-close" stretchy="false">&#x007D;</mo></math>
     the Wavelet representation of a chunk. Starting with
     <!--l. 124--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mstyle mathvariant="bold"><mi 
>l</mi></mstyle></mrow><mrow 
><msub><mrow 
><mi 
>N</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >levels</mtext></mstyle></mrow></msub 
></mrow></msup 
></math>
     &#x0028;at the &#xFB01;rst iteration the rest of subbands are zero&#x0029;, split the wavelet subband
     into a &#x0028;con&#xFB01;gurable&#x0029; number of FFT subbands. While the noise stays
     imperceptible:
         </p><ol  class="enumerate2" >
<li 
  class="enumerate" id="x1-5006x1">
         <!--l. 129--><p class="noindent" >Increase the amplitude of the noise in the FFT subband.
         </p></li>
<li 
  class="enumerate" id="x1-5008x2">
                                                                  

                                                                  
         <!--l. 130--><p class="noindent" >Compute the inverse FFT/Wavelet transform.
         </p></li>
<li 
  class="enumerate" id="x1-5010x3">
         <!--l. 131--><p class="noindent" >Reproduce the generated chunk, alternating every second with the
         play of an empty chunk.</p></li></ol>
     </li>
<li 
  class="enumerate" id="x1-5012x2">
     <!--l. 134--><p class="noindent" >Continue with the next Fourier/Wavelet subband, but keeping the highest unperceptible
     uniform noise in the previously processed ones. In this way, for the wavelet subband
     <!--l. 136--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle></mrow><mrow 
><mn>1</mn></mrow></msup 
></math>
     &#x0028;the last one to be processed&#x0029;, the rest of subbands should be already noisy,
     and the same holds for the Fourier subbands that belong to each wavelet
     subband.</p></li></ol>
<!--l. 142--><p class="indent" >   Notice that the QSSs are determined for the sound that you are going to play
&#x0028;not for the audio that you are generating&#x0029;. Therefore, you should use your
interlocutor&#x2019;s QSSs and viceversa. Implement also the transmission of this
information.
</p><!--l. 147--><p class="indent" >   Finally, the determination of the THH should be optional for the users of
InterCom &#x0028;the &#x201C;standard&#x201D; ToH, see Fig.&#x00A0;<a 
href="#x1-2001r1">1<!--tex4ht:ref: fig:ToHH --></a>, should be used by default&#x0029;.
</p>
   <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-60004"></a>Deliverables</h3>
<!--l. 171--><p class="noindent" >The improved module <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">threshold.py</span></span></span> and a report of how your proposal works,
including a subjective performance comparison.
</p><!--l. 174--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-70005"></a>Resources</h3>
   <div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 &#x005B;1&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xbosi2003intro"></a>M.&#x00A0;Bosi and R.E. Goldberd.  <a 
href="https://last.hit.bme.hu/download/vidtechlab/fcc/literature/audio/audio_coding_standards_book.pdf" ><span 
class="ecti-1000">Introduction to Digital Audio Coding and</span>
   <span 
class="ecti-1000">Standards</span></a>. Kluwer Academic Publishers, 2003.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;2&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xsayood2017introduction"></a>K.&#x00A0;Sayood. <a 
href="http://rahilshaikh.weebly.com/uploads/1/1/6/3/11635894/data_compression.pdf" ><span 
class="ecti-1000">Introduction to data compression</span></a>. Morgan Kaufmann, 2017.
                                                                  

                                                                  
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;3&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xvetterli1995wavelets"></a>M.&#x00A0;Vetterli  and  J.&#x00A0;Kova&#x010D;evi&#x0107;.     <a 
href="http://waveletsandsubbandcoding.org/Repository/VetterliKovacevic95_Manuscript.pdf" ><span 
class="ecti-1000">Wavelets  and  Subband  Coding</span></a>.
   Prentice-hall, 1995.
</p>
   </div>
<a 
 id="Q1-1-9"></a>
    
</body></html> 

                                                                  


