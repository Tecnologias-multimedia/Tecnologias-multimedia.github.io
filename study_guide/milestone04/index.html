<!DOCTYPE html> 
<html> 
<head> <title>TecnologÃŋas Multimedia - Study Guide - Milestone 5: Minimal InterCom</title> 
<meta charset="UTF-8" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<link rel="stylesheet" type="text/css" href="index.css" /> 
<script type="text/javascript" 
src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" 
></script> 
<style type="text/css"> 
.MathJax_MathML {text-indent: 0;} 
</style> 
</head><body 
>
   <div class="maketitle">
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class="titleHead"><a 
href="https://www.ual.es/estudios/grados/presentacion/plandeestudios/asignatura/4015/40154321?idioma=zh_CN" >Tecnologías Multimedia</a> - Study Guide -
Milestone 5: Minimal InterCom</h2>
 <div class="author" ><a 
href="https://cms.ual.es/UAL/personas/persona.htm?id=515256515553484875" ><span 
class="ecrm-1200">Vicente Gonz</span><span 
class="ecrm-1200">á</span><span 
class="ecrm-1200">lez Ruiz</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://cms.ual.es/UAL/universidad/departamentos/informatica/index.htm" ><span 
class="ecrm-1200">Depto Inform</span><span 
class="ecrm-1200">á</span><span 
class="ecrm-1200">tica</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://www.ual.es" ><span 
class="ecrm-1200">UAL</span></a></div><br />
<div class="date" ><span 
class="ecrm-1200">September 23, 2020</span></div>
   </div>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-10001"></a>Description</h3>
<!--l. 7--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-20001.1"></a>Sequential model</h4>
<!--l. 9--><p class="noindent" >InterCom can be divided roughtky in 6 steps:
<a 
 id="x1-2001r1"></a>
<!--l. 22--><p class="noindent" ></p><div class="minipage"><span 
class="ecbx-1000">Algorithm</span>
<span 
class="ecbx-1000">1.1:</span> <span 
class="eccc1000-"><span 
class="small-caps">S</span><span 
class="small-caps">e</span><span 
class="small-caps">q</span><span 
class="small-caps">u</span><span 
class="small-caps">e</span><span 
class="small-caps">n</span><span 
class="small-caps">t</span><span 
class="small-caps">i</span><span 
class="small-caps">a</span><span 
class="small-caps">l</span><span 
class="small-caps">_</span><span 
class="small-caps">I</span><span 
class="small-caps">n</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">r</span><span 
class="small-caps">C</span><span 
class="small-caps">o</span><span 
class="small-caps">m</span></span>(<!--l. 11--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
> </mi></math>)<br 
class="newline" /> <!--l. 11--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mtable  align="axis" style=""  
equalrows="false" columnlines="none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left"><mspace width="4.3045pt"/> <mstyle 
class="mbox"><mtext  >procedure </mtext></mstyle><mstyle 
class="mbox"><mtext  ></mtext><mtext class="textsc" mathvariant="normal" >Record_IO_and_Play</mtext></mstyle><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
> </mi></mrow><mo 
class="MathClass-close">)</mo></mrow>                                          </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mspace width="4.3045pt"/>  <mtable  align="axis" style=""  
equalrows="false" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left"><mspace width="4.3045pt"/>  <mfenced separators="" 
open="{"  close="" ><mrow> <mtable  align="axis" style=""  
equalrows="false" columnlines="none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left"><mstyle mathvariant="monospace"><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>o</mi><mi 
>r</mi><mi 
>d</mi><mi 
>e</mi><mi 
>d</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi></mstyle> <mo 
class="MathClass-rel">←</mo><mstyle mathvariant="monospace"><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>o</mi><mi 
>r</mi><mi 
>d</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle>                      </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mstyle mathvariant="monospace"><mi 
>o</mi><mi 
>u</mi><mi 
>t</mi><mi 
>g</mi><mi 
>o</mi><mi 
>i</mi><mi 
>n</mi><mi 
>g</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mi 
>e</mi><mi 
>t</mi></mstyle> <mo 
class="MathClass-rel">←</mo><mstyle mathvariant="monospace"><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>o</mi><mi 
>r</mi><mi 
>d</mi><mi 
>e</mi><mi 
>d</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle>  </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mstyle mathvariant="monospace"><mi 
>s</mi><mi 
>e</mi><mi 
>n</mi><mi 
>d</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>o</mi><mi 
>u</mi><mi 
>t</mi><mi 
>g</mi><mi 
>o</mi><mi 
>i</mi><mi 
>n</mi><mi 
>g</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mi 
>e</mi><mi 
>t</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle>                            </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mstyle mathvariant="monospace"><mi 
>i</mi><mi 
>n</mi><mi 
>c</mi><mi 
>o</mi><mi 
>m</mi><mi 
>i</mi><mi 
>n</mi><mi 
>g</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mi 
>e</mi><mi 
>t</mi></mstyle> <mo 
class="MathClass-rel">←</mo><mstyle mathvariant="monospace"><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>e</mi><mi 
>i</mi><mi 
>v</mi><mi 
>e</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle>                   </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mstyle mathvariant="monospace"><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>t</mi><mi 
>o</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>p</mi><mi 
>l</mi><mi 
>a</mi><mi 
>y</mi></mstyle> <mo 
class="MathClass-rel">←</mo><mstyle mathvariant="monospace"><mi 
>u</mi><mi 
>n</mi><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>i</mi><mi 
>n</mi><mi 
>c</mi><mi 
>o</mi><mi 
>m</mi><mi 
>i</mi><mi 
>n</mi><mi 
>g</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mi 
>e</mi><mi 
>t</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mstyle mathvariant="monospace"><mi 
>p</mi><mi 
>l</mi><mi 
>a</mi><mi 
>y</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>t</mi><mi 
>o</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>p</mi><mi 
>l</mi><mi 
>a</mi><mi 
>y</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle>                               </mtd></mtr><!--@{}lr@{}--></mtable>                             </mrow></mfenced></mtd>
 </mtr><!--@{\pcode@tab {1}}l@{}--></mtable>                                                                                                  </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mspace width="4.3045pt"/>                                                                                                   </mtd></mtr><!--@{\pcode@tab {1}}lr@{}--></mtable></math></div>
</p><!--l. 24--><p class="indent" >   Where:
</p><!--l. 26--><p class="indent" >
                                                                  

                                                                  
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-2003x1"><!--l. 27--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>o</mi><mi 
>r</mi><mi 
>d</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>
     captures  a  chunk  of  frames.  In  general,  this  is  a  <a 
href="https://en.wikipedia.org/wiki/I/O_bound" >I/O-bound</a>  <a 
href="https://python-sounddevice.readthedocs.io/en/0.4.0/api/streams.html#sounddevice.Stream.read" >blocking
     operation</a> <span class="cite">[<a 
href="#Xsounddevice">2</a>]</span>, depending on the availability of frames in the ADC’s buﬀer.
     This can be checked in <a 
href="https://raw.githubusercontent.com/Tecnologias-multimedia/intercom/master/test/sounddevice/wire4.py" >wire4.py</a><span class="footnote-mark"><a 
href="index2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span><a 
 id="x1-2004f1"></a> ,
     where the <!--l. 35--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>r</mi><mi 
>e</mi><mi 
>a</mi><mi 
>d</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>
     method always returns inmediately because only the available frames are
     returned in each call (the chunk-size depends on the instant of time in
     which this method is called).
     </li>
     <li 
  class="enumerate" id="x1-2006x2"><!--l. 39--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>
     process the chunk to create a <a 
href="https://en.wikipedia.org/wiki/Network_packet" >packet</a> (or a sequence of packets), a structure
     that can be transmitted through the Internet using the <a 
href="https://en.wikipedia.org/wiki/Datagram" >Datagram</a> Model.
     In general, this is a <a 
href="https://en.wikipedia.org/wiki/CPU-bound" >CPU-bounded</a> (CPU-intensive) operation, and therefore,
     reduces the number of cycles/second that the main thread can reach.
     </li>
     <li 
  class="enumerate" id="x1-2008x3"><!--l. 48--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>s</mi><mi 
>e</mi><mi 
>n</mi><mi 
>d</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mi 
>e</mi><mi 
>t</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>,
     sends the packet to the interlocutor’s InterCom. When datagrams are used,
     this step is non-blocking neither CPU-bounding (the CPU usage is very
     low), if the number of packets/second is small and the size of the payloads
     is also small, as it is expected in the InterCom.
     </li>
     <li 
  class="enumerate" id="x1-2010x4"><!--l. 53--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>e</mi><mi 
>i</mi><mi 
>v</mi><mi 
>e</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>,
     waits (blocking) for a incoming packet, and therefore, this operation is
     IO-bound. However, most <a 
href="https://docs.python.org/3/library/socket.html" >socket API</a>s <span class="cite">[<a 
href="#Xpython">3</a>]</span> oﬀeer a <a 
href="https://docs.python.org/3.8/library/socket.html#socket.socket.setblocking" >non-blocking option</a>
     where when a packet is not available in the kernel’s buﬀer associanted to
     the corresponding socket, some kind of exception is generated and, in this
     case, it is resposabability of the programmer to generate a “alternative”
     chunk (in our case, for example, a chunk ﬁlled with zeros will not produce
     any sound).
     </li>
     <li 
  class="enumerate" id="x1-2012x5"><!--l. 63--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>u</mi><mi 
>n</mi><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mi 
>e</mi><mi 
>t</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>
     is (as <!--l. 63--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>)
     a CPU-intensive step that transforms a packet (or several packets) into a
     chunk of audio.
     </li>
     <li 
  class="enumerate" id="x1-2014x6"><!--l. 66--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>p</mi><mi 
>l</mi><mi 
>a</mi><mi 
>y</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>
     renders the chunk. In general, this is an I/O-bound <a 
href="https://python-sounddevice.readthedocs.io/en/0.4.0/api/streams.html#sounddevice.Stream.write" >blocking</a> action. However,
     if <!--l. 69--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>p</mi><mi 
>l</mi><mi 
>a</mi><mi 
>y</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>
     is called at the same pace than <!--l. 70--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>o</mi><mi 
>r</mi><mi 
>d</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>
                                                                  

                                                                  
     and the record and play parameters are exactely the same (as happens in
     our model), the playing of the chunk will return inmediately because the
     time that the <!--l. 73--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>p</mi><mi 
>l</mi><mi 
>a</mi><mi 
>y</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>
     method needs to complete would exactly match the time that the <!--l. 74--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>o</mi><mi 
>r</mi><mi 
>d</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>
     method requires (see <span 
class="ectt-1000">wire4.py</span>).</li></ol>
<!--l. 78--><p class="indent" >   This model works ﬁne if the chunk size is controlled by
<a 
href="http://www.portaudio.com/" >PortAudio</a> <span class="cite">[<a 
href="#Xportaudio">4</a>]</span> (<span 
class="ectt-1000">sounddevice</span>) and also, the run-time required by
<!--l. 81--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math> and
<!--l. 81--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>u</mi><mi 
>n</mi><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mi 
>e</mi><mi 
>t</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>
operations is smaller than the chunk-time. The ﬁrst issue is complicates slightly
the implementation because we need to work with chunks of constantly
changing lenghts (that as you can see, most of the time are 0). This also
complicates the control of the latency (the chunk size is variable). However, the
real problem appears when our computer is not able to satisfy the second
requirement. This only can be addressed through optimizing and parallelizing the
code.
</p><!--l. 90--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-30001.2"></a>Timer-based model</h4>
<!--l. 92--><p class="noindent" >In this model, the task dedicated to record and play the chunks of audio is called
periodically (probably, using some timer provided by the sound hardware). This
procedure guarantees a gliches-free audio-IO when constant chunk sizes are used
because the timer interruption coincides exactly with the instant of time in which the
<!--l. 97--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>o</mi><mi 
>r</mi><mi 
>d</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math> and
the <!--l. 97--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>p</mi><mi 
>l</mi><mi 
>a</mi><mi 
>y</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>
methods need to be run to guarantee that we are going to handle a chunk of audio
of a known size without blocking. The following algorithm describes the
new model that is basically the previous one, except that the chunk size is
controlled.
<a 
 id="x1-3001r2"></a>
<!--l. 114--><p class="noindent" ></p><div class="minipage"><span 
class="ecbx-1000">Algorithm</span>
<span 
class="ecbx-1000">1.2:</span> <span 
class="eccc1000-"><span 
class="small-caps">T</span><span 
class="small-caps">i</span><span 
class="small-caps">m</span><span 
class="small-caps">e</span><span 
class="small-caps">r</span><span 
class="small-caps">-</span><span 
class="small-caps">b</span><span 
class="small-caps">a</span><span 
class="small-caps">s</span><span 
class="small-caps">e</span><span 
class="small-caps">d</span><span 
class="small-caps">_</span><span 
class="small-caps">I</span><span 
class="small-caps">n</span><span 
class="small-caps">t</span><span 
class="small-caps">e</span><span 
class="small-caps">r</span><span 
class="small-caps">C</span><span 
class="small-caps">o</span><span 
class="small-caps">m</span></span>(<!--l. 103--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
> </mi></math>)<br 
class="newline" /> <!--l. 103--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mtable  align="axis" style=""  
equalrows="false" columnlines="none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left"><mspace width="4.3045pt"/> <mstyle 
class="mbox"><mtext  >procedure </mtext></mstyle><mstyle 
class="mbox"><mtext  ></mtext><mtext class="textsc" mathvariant="normal" >Record_IO_and_Play</mtext></mstyle><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle mathvariant="monospace"><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>s</mi><mi 
>i</mi><mi 
>z</mi><mi 
>e</mi></mstyle></mrow><mo 
class="MathClass-close">)</mo></mrow>                            </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mspace width="4.3045pt"/>  <mtable  align="axis" style=""  
equalrows="false" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left"><mspace width="4.3045pt"/>  <mfenced separators="" 
open="{"  close="" ><mrow> <mtable  align="axis" style=""  
equalrows="false" columnlines="none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left"><mstyle mathvariant="monospace"><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>o</mi><mi 
>r</mi><mi 
>d</mi><mi 
>e</mi><mi 
>d</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi></mstyle> <mo 
class="MathClass-rel">←</mo><mstyle mathvariant="monospace"><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>o</mi><mi 
>r</mi><mi 
>d</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>s</mi><mi 
>i</mi><mi 
>z</mi><mi 
>e</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle>             </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mstyle mathvariant="monospace"><mi 
>s</mi><mi 
>e</mi><mi 
>n</mi><mi 
>d</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>o</mi><mi 
>u</mi><mi 
>t</mi><mi 
>g</mi><mi 
>o</mi><mi 
>i</mi><mi 
>n</mi><mi 
>g</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mi 
>e</mi><mi 
>t</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle> <mo 
class="MathClass-rel">←</mo><mstyle mathvariant="monospace"><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>o</mi><mi 
>r</mi><mi 
>d</mi><mi 
>e</mi><mi 
>d</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mstyle mathvariant="monospace"><mi 
>s</mi><mi 
>e</mi><mi 
>n</mi><mi 
>d</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>o</mi><mi 
>u</mi><mi 
>t</mi><mi 
>g</mi><mi 
>o</mi><mi 
>i</mi><mi 
>n</mi><mi 
>g</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mi 
>e</mi><mi 
>t</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle>                                   </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mstyle mathvariant="monospace"><mi 
>i</mi><mi 
>n</mi><mi 
>c</mi><mi 
>o</mi><mi 
>m</mi><mi 
>i</mi><mi 
>n</mi><mi 
>g</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mi 
>e</mi><mi 
>t</mi></mstyle> <mo 
class="MathClass-rel">←</mo><mstyle mathvariant="monospace"><mi 
>r</mi><mi 
>e</mi><mi 
>c</mi><mi 
>e</mi><mi 
>i</mi><mi 
>v</mi><mi 
>e</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle>                          </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mstyle mathvariant="monospace"><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>t</mi><mi 
>o</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>p</mi><mi 
>l</mi><mi 
>a</mi><mi 
>y</mi></mstyle> <mo 
class="MathClass-rel">←</mo><mstyle mathvariant="monospace"><mi 
>u</mi><mi 
>n</mi><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>i</mi><mi 
>n</mi><mi 
>c</mi><mi 
>o</mi><mi 
>m</mi><mi 
>i</mi><mi 
>n</mi><mi 
>g</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mi 
>e</mi><mi 
>t</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle>       </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mstyle mathvariant="monospace"><mi 
>p</mi><mi 
>l</mi><mi 
>a</mi><mi 
>y</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>c</mi><mi 
>h</mi><mi 
>u</mi><mi 
>n</mi><mi 
>k</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>t</mi><mi 
>o</mi><mstyle 
class="text"><mtext  >_</mtext></mstyle><mi 
>p</mi><mi 
>l</mi><mi 
>a</mi><mi 
>y</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle>                                      </mtd></mtr><!--@{}lr@{}--></mtable>                      </mrow></mfenced></mtd>
 </mtr><!--@{\pcode@tab {1}}l@{}--></mtable>                                                                                                  </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"><mspace width="4.3045pt"/>                                                                                                   </mtd></mtr><!--@{\pcode@tab {1}}lr@{}--></mtable></math></div>
                                                                  

                                                                  
</p><!--l. 116--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-40002"></a>What you have to do?</h3>
<!--l. 118--><p class="noindent" >
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-4002x1">Implement a timer-based InterCom. Use as reference <a 
href="https://github.com/Tecnologias-multimedia/intercom/blob/master/test/sounddevice/wire.py" >wire.py</a><span class="footnote-mark"><a 
href="index3.html#fn2x0"><sup class="textsuperscript">2</sup></a></span><a 
 id="x1-4003f2"></a> .
     Your implementation should be able to record, <a 
href="https://github.com/vicente-gonzalez-ruiz/YAPT/blob/master/03-IO/networking/sockets.ipynb" >transmit</a> <span class="cite">[<a 
href="#XYAPT">1</a>]</span> (using <a 
href="https://en.wikipedia.org/wiki/User_Datagram_Protocol" >UDP</a> <span class="cite">[<a 
href="#XUDP">5</a>]</span>)
     and play raw (this means that the <!--l. 129--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>/<!--l. 129--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="monospace"><mi 
>u</mi><mi 
>n</mi><mi 
>p</mi><mi 
>a</mi><mi 
>c</mi><mi 
>k</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow></mrow><mo 
class="MathClass-close">)</mo></mrow></mstyle></math>
     operations are not required for this milestone) audio data between two
     computers.
     </li></ol>
<!--l. 134--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-50003"></a>Timming</h3>
<!--l. 136--><p class="noindent" >You should reach this milestone at most in two weeks.
</p><!--l. 138--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-60004"></a>Deliverables</h3>
<!--l. 140--><p class="noindent" >A Python module with the implementation of the minimal InterCom. Name
it <span 
class="ectt-1000">intercom_minimal.py</span>. Store it at the root directory of the <span 
class="ectt-1000">intercom</span>’s
repo.
</p><!--l. 144--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-70005"></a>Resources</h3>
<!--l. 1--><p class="noindent" >
</p>
   <h3 class="likesectionHead"><a 
 id="x1-80005"></a>References</h3>
<!--l. 1--><p class="noindent" >
                                                                  

                                                                  
   </p><div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 [1]<span class="bibsp">   </span></span><a 
 id="XYAPT"></a><a 
href="https://github.com/vicente-gonzalez-ruiz/YAPT/" >YAPT</a>.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [2]<span class="bibsp">   </span></span><a 
 id="Xsounddevice"></a><a 
href="https://python-sounddevice.readthedocs.io/en/latest/" >python-sounddevice</a>.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [3]<span class="bibsp">   </span></span><a 
 id="Xpython"></a><a 
href="https://www.python.org/" >Python</a> website.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [4]<span class="bibsp">   </span></span><a 
 id="Xportaudio"></a><a 
href="http://www.portaudio.com/" >PortAudio</a>.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [5]<span class="bibsp">   </span></span><a 
 id="XUDP"></a>J. Postel.
   <span 
class="ecti-1000">RFC 768. The User Datagram Protocol (UDP)</span>. USC/Information Sciences
   Institute, <a 
href="http://www.rfc-editor.org/rfc/rfc768.txt" class="url" ><span 
class="ectt-1000">http://www.rfc-editor.org/rfc/rfc768.txt</span></a>, 1980.
</p>
   </div>
<a 
 id="Q1-1-9"></a>
    
</body> 
</html>
                                                                  


