\input{../definitions}
\title{\TM{} - Study Guide - Milestone 6: Compressing the audio data with \href{https://zlib.net/}{zlib}}

\maketitle

\section{Description}

It's time to reduce bandwidth comsumption in InterCom. The
\verb|pack()| and the \verb|unpack()| methods can compress and
decompress, respectively, the chunks that are processed. To compress
and decompress, we will use a free
\href{https://en.wikipedia.org/wiki/Codec}{codec} named
\href{https://en.wikipedia.org/wiki/DEFLATE}{DEFLATE}, which is based
on
\href{https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Storer%E2%80%93Szymanski}{LZSS}
  and \href{https://en.wikipedia.org/wiki/Huffman_coding}{Huffman
    Coding}~\cite{nelson96datacompression}. See this
  \href{https://github.com/vicente-gonzalez-ruiz/LZ77}{notebook} and
  this
  \href{https://vicente-gonzalez-ruiz.github.io/Huffman_coding/}{notebook}.

The DEFLATE algorithm is implemented in the Python's standard library
\href{https://docs.python.org/3/library/zlib.html}{\texttt{zlib}}. We
have used this facility for compressing and decompressing the chunks
that we are sending and receiving in the methods \verb|pack()| and
\verb|unpack()|, respectively. These methods are implemented in the
modules \texttt{compress\{|0|1|2\}.py}, inside of a the class
\texttt{Compression\{|0|1|2\}} (respectively), and
override the defined in the parent class:

\begin{enumerate}
\item \verb|compress.py|: Implements no compression at all.
\item \verb|compress0.py|: Compress the raw chunks with DEFLATE.
\item \verb|compress1.py|: Compress the chunk after concatenating the
  channels (see Fig.~\ref{fig:reordering}). Notice that with this
  shuffling, the samples are not interleaved and the correlation
  between consecutive bytes is slighly increased. This should increase
  the
  \href{https://en.wikipedia.org/wiki/Data_compression_ratio}{(data)
    compression ratio}
\begin{figure}
  \begin{center}
    \myfig{graphics/reordering}{5cm}{500}
  \end{center}
  \caption{Sample reordering to create two independent channels.}
  \label{fig:reordering}
\end{figure}
\item \verb|compress2.py|: similar to \verb|compress1.py|, but
  reseting DEFLATE at each new chunk-channel.
\end{enumerate}

Finally, notice that the number of sent UDP packets remain constant
respect to parent code.

\section{What you have to do?}

Determine empirically which ordering of the chunk data is the most
efficient from a compression point of view (get rates - rates vary
between datasets - of higher compression). Use the song
`\verb|InterCom/data/Aviador Dro - La Zona Fantasma.oga|'' in your
experiments.

\section{Timming}

Please, finish this milestone at most in one week.

\section{Deliverables}

A report documenting the experiment and the results.

%Create a Python module named compress.py and store it in the
%\href{https://github.com/Tecnologias-multimedia/intercom}{root
%  directory} of your InterCom's repo.

\section{Resources}

\bibliography{text-compression}
